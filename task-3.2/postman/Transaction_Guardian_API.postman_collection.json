{
  "info": {
    "_postman_id": "transaction-guardian-api",
    "name": "üõ°Ô∏è Transaction Guardian API",
    "description": "CloudWalk Monitoring Intelligence - Task 3.2\n\nSistema de monitoramento de transa√ß√µes em tempo real com detec√ß√£o de anomalias usando ML + Rules.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8001",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "üìä Monitoring",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/health",
              "host": ["{{base_url}}"],
              "path": ["health"]
            },
            "description": "Verifica status do sistema e m√©tricas atuais."
          },
          "response": []
        },
        {
          "name": "Estat√≠sticas",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/stats",
              "host": ["{{base_url}}"],
              "path": ["stats"]
            },
            "description": "Estat√≠sticas detalhadas do sistema."
          },
          "response": []
        },
        {
          "name": "M√©tricas Prometheus",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/metrics",
              "host": ["{{base_url}}"],
              "path": ["metrics"]
            },
            "description": "M√©tricas em formato Prometheus."
          },
          "response": []
        },
        {
          "name": "M√©tricas JSON",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/metrics/json",
              "host": ["{{base_url}}"],
              "path": ["metrics", "json"]
            },
            "description": "M√©tricas em formato JSON."
          },
          "response": []
        },
        {
          "name": "Listar Anomalias",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/anomalies?limit=20",
              "host": ["{{base_url}}"],
              "path": ["anomalies"],
              "query": [
                {
                  "key": "limit",
                  "value": "20",
                  "description": "N√∫mero m√°ximo de anomalias"
                },
                {
                  "key": "level",
                  "value": "CRITICAL",
                  "description": "Filtrar por n√≠vel (WARNING ou CRITICAL)",
                  "disabled": true
                }
              ]
            },
            "description": "Lista anomalias detectadas."
          },
          "response": []
        }
      ]
    },
    {
      "name": "üí≥ Transa√ß√µes Normais",
      "item": [
        {
          "name": "Transa√ß√£o Normal (115 trans)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"approved\",\n  \"count\": 115,\n  \"auth_code\": \"00\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/transaction",
              "host": ["{{base_url}}"],
              "path": ["transaction"]
            },
            "description": "Transa√ß√£o normal com volume t√≠pico (~115 trans/min).\n\nEsperado: is_anomaly = false, alert_level = NORMAL"
          },
          "response": []
        },
        {
          "name": "Transa√ß√£o Normal (100 trans)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"approved\",\n  \"count\": 100,\n  \"auth_code\": \"00\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/transaction",
              "host": ["{{base_url}}"],
              "path": ["transaction"]
            },
            "description": "Transa√ß√£o normal com volume m√©dio."
          },
          "response": []
        },
        {
          "name": "Transa√ß√£o Normal (130 trans)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"approved\",\n  \"count\": 130,\n  \"auth_code\": \"00\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/transaction",
              "host": ["{{base_url}}"],
              "path": ["transaction"]
            },
            "description": "Transa√ß√£o normal com volume um pouco acima da m√©dia."
          },
          "response": []
        }
      ]
    },
    {
      "name": "üö® Anomalias - Volume",
      "item": [
        {
          "name": "‚ö†Ô∏è OUTAGE - Volume Muito Baixo (5)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"approved\",\n  \"count\": 5,\n  \"auth_code\": \"00\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/transaction",
              "host": ["{{base_url}}"],
              "path": ["transaction"]
            },
            "description": "üö® SIMULA OUTAGE!\n\nVolume muito baixo (5 trans) indica que o sistema pode ter ca√≠do.\n\nEsperado:\n- is_anomaly = true\n- alert_level = CRITICAL\n- violations: LOW_VOLUME, VOLUME_DROP"
          },
          "response": []
        },
        {
          "name": "‚ö†Ô∏è DEGRADA√á√ÉO - Volume Baixo (40)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"approved\",\n  \"count\": 40,\n  \"auth_code\": \"00\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/transaction",
              "host": ["{{base_url}}"],
              "path": ["transaction"]
            },
            "description": "‚ö†Ô∏è SIMULA DEGRADA√á√ÉO!\n\nVolume abaixo do threshold (40 < 50).\n\nEsperado:\n- is_anomaly = true\n- alert_level = WARNING ou CRITICAL"
          },
          "response": []
        },
        {
          "name": "‚ö†Ô∏è SPIKE - Volume Muito Alto (400)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"approved\",\n  \"count\": 400,\n  \"auth_code\": \"00\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/transaction",
              "host": ["{{base_url}}"],
              "path": ["transaction"]
            },
            "description": "‚ö†Ô∏è SIMULA SPIKE!\n\nVolume muito acima do normal (400 vs ~115).\nPode indicar ataque DDoS ou promo√ß√£o viral.\n\nEsperado:\n- is_anomaly = true\n- alert_level = WARNING\n- violations: VOLUME_SPIKE"
          },
          "response": []
        }
      ]
    },
    {
      "name": "üö® Anomalias - Status/Auth",
      "item": [
        {
          "name": "‚ö†Ô∏è Transa√ß√£o FAILED",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"failed\",\n  \"count\": 100,\n  \"auth_code\": \"59\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/transaction",
              "host": ["{{base_url}}"],
              "path": ["transaction"]
            },
            "description": "üö® TRANSA√á√ÉO FALHOU!\n\nStatus failed + auth_code 59 (suspeita de fraude).\n\nEsperado:\n- is_anomaly = true\n- alert_level = CRITICAL\n- violations: FAILED, AUTH_ERROR"
          },
          "response": []
        },
        {
          "name": "‚ö†Ô∏è Transa√ß√£o DENIED",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"denied\",\n  \"count\": 100,\n  \"auth_code\": \"51\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/transaction",
              "host": ["{{base_url}}"],
              "path": ["transaction"]
            },
            "description": "‚ö†Ô∏è TRANSA√á√ÉO NEGADA!\n\nStatus denied + auth_code 51 (saldo insuficiente).\n\nEsperado:\n- is_anomaly = true\n- alert_level = WARNING"
          },
          "response": []
        },
        {
          "name": "‚ö†Ô∏è Auth Code Erro (05)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"approved\",\n  \"count\": 100,\n  \"auth_code\": \"05\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/transaction",
              "host": ["{{base_url}}"],
              "path": ["transaction"]
            },
            "description": "‚ö†Ô∏è C√ìDIGO DE ERRO!\n\nauth_code 05 = N√£o autorizado pelo banco.\n\nEsperado:\n- is_anomaly = true\n- violations: AUTH_ERROR"
          },
          "response": []
        },
        {
          "name": "‚ö†Ô∏è Transa√ß√£o REVERSED",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"reversed\",\n  \"count\": 100,\n  \"auth_code\": \"00\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/transaction",
              "host": ["{{base_url}}"],
              "path": ["transaction"]
            },
            "description": "‚ö†Ô∏è TRANSA√á√ÉO REVERTIDA!\n\nPode indicar chargeback ou fraude."
          },
          "response": []
        }
      ]
    },
    {
      "name": "üì¶ Batch",
      "item": [
        {
          "name": "Batch - M√∫ltiplas Transa√ß√µes",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"transactions\": [\n    {\"status\": \"approved\", \"count\": 110, \"auth_code\": \"00\"},\n    {\"status\": \"approved\", \"count\": 115, \"auth_code\": \"00\"},\n    {\"status\": \"approved\", \"count\": 120, \"auth_code\": \"00\"},\n    {\"status\": \"denied\", \"count\": 5, \"auth_code\": \"51\"},\n    {\"status\": \"approved\", \"count\": 108, \"auth_code\": \"00\"},\n    {\"status\": \"failed\", \"count\": 95, \"auth_code\": \"59\"},\n    {\"status\": \"approved\", \"count\": 112, \"auth_code\": \"00\"},\n    {\"status\": \"approved\", \"count\": 10, \"auth_code\": \"00\"},\n    {\"status\": \"approved\", \"count\": 118, \"auth_code\": \"00\"},\n    {\"status\": \"approved\", \"count\": 105, \"auth_code\": \"00\"}\n  ]\n}"
            },
            "url": {
              "raw": "{{base_url}}/transactions/batch",
              "host": ["{{base_url}}"],
              "path": ["transactions", "batch"]
            },
            "description": "Envia m√∫ltiplas transa√ß√µes de uma vez.\n\n√ötil para replay de dados hist√≥ricos.\n\nEste batch inclui:\n- 7 transa√ß√µes normais\n- 1 denied (saldo insuficiente)\n- 1 failed (fraude)\n- 1 outage (volume baixo)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "üîß Admin",
      "item": [
        {
          "name": "Reset Sistema",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/reset",
              "host": ["{{base_url}}"],
              "path": ["reset"]
            },
            "description": "‚ö†Ô∏è CUIDADO!\n\nReseta todos os contadores e hist√≥rico.\n√ötil para reiniciar testes do zero."
          },
          "response": []
        },
        {
          "name": "Info da API",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/",
              "host": ["{{base_url}}"],
              "path": [""]
            },
            "description": "Informa√ß√µes b√°sicas da API."
          },
          "response": []
        }
      ]
    }
  ]
}
